# AndroidFromScratch
How to build an android app without gradle/ant/maven ? Use script !
You can use this project as template for your app !

## Get the project
- Clone this repo : 
```bash
git clone https://github.com/miradox/AndroidFromScratch.git
```
 - Get the android SDK to get the android build command as it explain [here](https://medium.com/michael-wallace/how-to-install-android-sdk-and-setup-avd-emulator-without-android-studio-aeb55c014264)
 - Find android.jar file in platforms/android-<your_target_version>/ in SDK and copy it in project folder
 - You should set a store password for MainKey.keystore in script.sh with Storepass variable 

## Project structure

#### Temporary Folders 

Temporary folder are create and remove during the process. To see these folder and their content, set SetTemporaryFolder=true in script.sh

**bin/** contains all files generated by compilation commands such as apk files and dex files<br>
**gen/** contains all R.java files required for compilation with java. That of the src and those of the libs in packages that respects the [naming convention](https://en.wikipedia.org/wiki/Java_package#Package_naming_conventions)<br>
**obj/** contains all .class files generated by compilation with javac command. Those of the libs and those of the src in the same form as the gen folder<br>

#### App's Folders

**res/** contains all ressources of the android app such as layout, strings, drawables ...<br>
**libs/** contains all android libs (jar or aar files) required for the application. (Hummm, [differences](https://stackoverflow.com/questions/23915619/android-archive-library-aar-vs-standard-jar) ?)<br>
**src/** contain all application's java or kotlin file in a package  and the [AndroidManifest](https://developer.android.com/guide/topics/manifest/manifest-intro) file<br>

## How it works ?
The process is explain [here](https://stackoverflow.com/questions/41132753/how-can-i-build-an-android-apk-without-gradle-on-the-command-line)<br>
[aapt2](https://developer.android.com/studio/command-line/aapt2) : compile and like all resources and AndroidManifest to make R.java file and a first version of final apk<br>
[javac](https://docs.oracle.com/javase/7/docs/technotes/tools/windows/javac.html) : compile all .java files into .class file.<br>
[d8](https://developer.android.com/studio/command-line/d8) : compile all .class and android.jar to make classes.dex file which is android bytecode executable by the [DVM](https://fr.wikipedia.org/wiki/Dalvik_(machine_virtuelle))<br>
[zip](http://infozip.sourceforge.net/Zip.html) : add classes.dex to the previous apk<br>
[zipalign](https://developer.android.com/studio/command-line/zipalign) : optimize the apk<br>
[apksigner](https://developer.android.com/studio/command-line/apksigner) : sign the apk<br>


